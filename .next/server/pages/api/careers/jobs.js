"use strict";(()=>{var e={};e.id=373,e.ids=[373],e.modules={2418:e=>{e.exports=require("mysql2/promise")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3292:e=>{e.exports=require("fs/promises")},1017:e=>{e.exports=require("path")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},436:(e,t,r)=>{r.r(t),r.d(t,{config:()=>d,default:()=>l,routeModule:()=>p});var s={};r.r(s),r.d(s,{default:()=>c});var o=r(1802),n=r(7153),i=r(6249),a=r(2418),u=r.n(a);async function c(e,t){let{method:r,query:s}=e,o=await u().createConnection({host:"localhost",user:"root",password:"Govind@123",database:"ventleytechschema",port:3306});try{switch(r){case"GET":let[s]=await o.execute("SELECT * FROM w2_jobs WHERE isActive = TRUE ORDER BY createdAt DESC");return t.status(200).json({success:!0,jobs:s,count:s.length});case"POST":let{title:n,location:i,mode:a,experience:u,description:c,requirements:l,responsibilities:d,skills:p,salary:P,isActive:f}=e.body,[A]=await o.execute(`INSERT INTO w2_jobs 
        (id,title, location, mode, experience, description, requirements, responsibilities, skills, salary, isActive) 
       VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?)`,["job_"+Math.floor(1e5+9e5*Math.random()),n,i,a,u,c,l,d,p,P,f??!0]);return t.status(201).json({success:!0,job:{id:A.insertId,title:n,location:i,mode:a,experience:u,description:c,requirements:l,responsibilities:d,skills:p,salary:P,isActive:f??!0}});default:return t.setHeader("Allow",["GET","POST"]),t.status(405).json({success:!1,error:`Method ${r} Not Allowed`})}}catch(e){return console.error("API Error:",e),t.status(500).json({success:!1,error:"Internal Server Error",message:e.message})}finally{}}r(3292),r(1017);let l=(0,i.l)(s,"default"),d=(0,i.l)(s,"config"),p=new o.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/careers/jobs",pathname:"/api/careers/jobs",bundlePath:"",filename:""},userland:s})},7153:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{e.exports=r(145)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var r=t(t.s=436);module.exports=r})();