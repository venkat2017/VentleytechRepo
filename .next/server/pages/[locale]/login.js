"use strict";(()=>{var e={};e.id=235,e.ids=[235],e.modules={9895:(e,r,t)=>{t.r(r),t.d(r,{default:()=>C,getStaticPaths:()=>o.Fe,getStaticProps:()=>N});var i=t(6689),a=t(968),s=t.n(a),o=t(7681);t(134);var l=t(1163),n=t(3819),u=t.n(n);t(7163);var c=t(8185),d=t.n(c),p=t(8330),m=t.n(p),g=t(5612),x=t.n(g);let h=require("@mui/material/CircularProgress");var b=t.n(h);let f=require("@mui/material/Alert");var v=t.n(f),j=t(1500),y=t(1377),S=t(1188),P=t(7311),q=t(3321),w=t(1056),O=t(997);function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach(function(r){var i,a;i=r,a=t[r],(i=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let k=function(){let{classes:e,cx:r}=(0,q.Z)(),{classes:t}=(0,S.XK)(),a=(0,l.useRouter)(),{t:s}=(0,y.useTranslation)("common"),{0:o,1:n}=(0,i.useState)({email:"",password:""}),{0:c,1:p}=(0,i.useState)(!1),{0:g,1:h}=(0,i.useState)(!1),{0:f,1:_}=(0,i.useState)(""),{0:k,1:C}=(0,i.useState)("");(0,i.useEffect)(()=>{j.ValidatorForm.addValidationRule("isPasswordMatch",e=>e===o.password),localStorage.getItem("token")&&a.push("/dashboard")},[a]);let N=e=>r=>{n(T(T({},o),{},{[e]:r.target.value})),_("")},E=async()=>{h(!0),_(""),C("");try{let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.email,password:o.password,rememberMe:c})}),r=await e.json();if(!e.ok){_(r.message||"Login failed"),h(!1);return}localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),C("Login successful! Redirecting..."),setTimeout(()=>{a.push("/dashboard")},1e3)}catch(e){console.error("Login error:",e),_("An error occurred. Please try again."),h(!1)}};return O.jsx(P.Z,{title:s("login_title"),subtitle:s("login_subtitle"),children:(0,O.jsxs)("div",{children:[O.jsx("div",{className:e.head,children:O.jsx(w.Z,{head:s("login"),desc:"",align:"left",color:"secondary"})}),f&&O.jsx(v(),{severity:"error",style:{marginBottom:"16px"},children:f}),k&&O.jsx(v(),{severity:"success",style:{marginBottom:"16px"},children:k}),(0,O.jsxs)(j.ValidatorForm,{onError:e=>console.log(e),onSubmit:E,children:[(0,O.jsxs)(x(),{container:!0,spacing:3,children:[O.jsx(x(),{item:!0,xs:12,children:O.jsx(j.TextValidator,{variant:"filled",className:e.input,label:s("login_email"),onChange:N("email"),name:"email",value:o.email,validators:["required","isEmail"],errorMessages:["This field is required","Email is not valid"],fullWidth:!0,disabled:g})}),O.jsx(x(),{item:!0,xs:12,children:O.jsx(j.TextValidator,{variant:"filled",type:"password",className:e.input,label:s("login_password"),validators:["required"],onChange:N("password"),errorMessages:["This field is required"],name:"password",value:o.password,fullWidth:!0,disabled:g})})]}),O.jsx("div",{className:e.formHelper,children:O.jsx(d(),{control:O.jsx(m(),{checked:c,onChange:e=>{p(e.target.checked)},color:"secondary",value:c,className:e.check,disabled:g}),label:O.jsx("span",{className:t.caption,children:s("login_remember")})})}),O.jsx("div",{className:e.btnArea,children:O.jsx(u(),{variant:"contained",fullWidth:!0,type:"submit",color:"secondary",size:"large",disabled:g,children:g?O.jsx(b(),{size:24,color:"inherit"}):s("continue")})})]})]})})},C=function(){return(0,O.jsxs)(i.Fragment,{children:[O.jsx(s(),{children:O.jsx("title",{children:" Ventley Tech- Login"})}),O.jsx("div",{children:O.jsx(k,{})})]})},N=(0,o.pc)(["common"])},1936:(e,r,t)=>{t.a(e,async(e,i)=>{try{t.r(r),t.d(r,{config:()=>x,default:()=>d,getServerSideProps:()=>g,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>h,routeModule:()=>S,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var a=t(7093),s=t(5244),o=t(1323),l=t(7201),n=t(8023),u=t(9895),c=e([n]);n=(c.then?(await c)():c)[0];let d=(0,o.l)(u,"default"),p=(0,o.l)(u,"getStaticProps"),m=(0,o.l)(u,"getStaticPaths"),g=(0,o.l)(u,"getServerSideProps"),x=(0,o.l)(u,"config"),h=(0,o.l)(u,"reportWebVitals"),b=(0,o.l)(u,"unstable_getStaticProps"),f=(0,o.l)(u,"unstable_getStaticPaths"),v=(0,o.l)(u,"unstable_getStaticParams"),j=(0,o.l)(u,"unstable_getServerProps"),y=(0,o.l)(u,"unstable_getServerSideProps"),S=new a.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/[locale]/login",pathname:"/[locale]/login",bundlePath:"",filename:""},components:{App:n.default,Document:l.default},userland:u});i()}catch(e){i(e)}})},1913:e=>{e.exports=require("@emotion/cache")},2805:e=>{e.exports=require("@emotion/react")},9552:e=>{e.exports=require("@emotion/server/create-instance")},3819:e=>{e.exports=require("@mui/material/Button")},8330:e=>{e.exports=require("@mui/material/Checkbox")},4475:e=>{e.exports=require("@mui/material/Container")},4960:e=>{e.exports=require("@mui/material/CssBaseline")},8185:e=>{e.exports=require("@mui/material/FormControlLabel")},5612:e=>{e.exports=require("@mui/material/Grid")},7934:e=>{e.exports=require("@mui/material/IconButton")},1598:e=>{e.exports=require("@mui/material/Paper")},7163:e=>{e.exports=require("@mui/material/Typography")},8442:e=>{e.exports=require("@mui/material/styles")},9868:e=>{e.exports=require("@mui/material/useMediaQuery")},1377:e=>{e.exports=require("next-i18next")},5460:e=>{e.exports=require("next-i18next/serverSideTranslations")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},1500:e=>{e.exports=require("react-material-ui-form-validator")},2037:e=>{e.exports=require("react-top-loading-bar")},997:e=>{e.exports=require("react/jsx-runtime")},3195:e=>{e.exports=require("stylis-plugin-rtl")},6508:e=>{e.exports=require("tss-react/mui")},3707:e=>{e.exports=import("next-language-detector")},4615:e=>{e.exports=import("stylis")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[859,354,63,23,711],()=>t(1936));module.exports=i})();